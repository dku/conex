<?xml version="1.0" encoding="US-ASCII"?>
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [

<!ENTITY RFC2629 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.2629.xml">
<!ENTITY RFC6040 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6040.xml">
<!ENTITY RFC6789 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6789.xml">
<!ENTITY RFC6817 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml/reference.RFC.6817.xml">


<!ENTITY I-D.narten-iana-considerations-rfc2434bis SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml3/reference.I-D.narten-iana-considerations-rfc2434bis.xml">


<!ENTITY I-D.draft-ietf-conex-abstract-mech SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml3/reference.I-D.draft-ietf-conex-abstract-mech-13.xml">

<!ENTITY I-D.draft-ietf-conex-destopt SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml3/reference.I-D.draft-ietf-conex-destopt-11.xml">

<!ENTITY I-D.draft-ietf-conex-tcp-modifications SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml3/reference.I-D.draft-ietf-conex-tcp-modifications-10.xml">


<!ENTITY ts23203 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.23.203.xml">
<!ENTITY ts36300 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.36.300.xml">
<!ENTITY ts29060 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.29.060.xml">
<!ENTITY ts29274 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.29.274.xml">
<!ENTITY ts23401 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.23.401.xml">
<!ENTITY ts23402 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.23.402.xml">
<!ENTITY tr23829 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.23.829.xml">
<!ENTITY ts26114 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.26.114.xml">
<!ENTITY tr23705 SYSTEM "http://xml2rfc.ietf.org/public/rfc/bibxml5/reference.3GPP.23.705.xml">



]>





<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>


<?rfc strict="no" ?>
<?rfc toc="yes"?>
<?rfc tocdepth="4"?>
<?rfc symrefs="yes"?>
<?rfc sortrefs="yes" ?>
<?rfc compact="yes" ?>
<?rfc subcompact="no" ?>


<rfc category="info" ipr="trust200902" docName="draft-ietf-conex-mobile-06">
  <!-- ***** FRONT MATTER ***** -->

  <front>
    <title abbrev="ConEx Mobile Scenario">Mobile Communication Congestion Exposure Scenario</title>


    <author fullname="Dirk Kutscher" initials="D." 
            surname="Kutscher">
      <organization>NEC</organization>
      <address>
        <postal>
          <street>Kurfuersten-Anlage 36</street>
          <city>Heidelberg</city>
          <region></region>
          <code></code>
          <country>Germany</country>
        </postal>
        <phone></phone>
        <email>kutscher@neclab.eu</email>
      </address>
    </author>

    <author fullname="Faisal Ghias Mir" initials="F." 
            surname="Mir">
      <organization>NEC</organization>
      <address>
        <postal>
          <street>Kurfuersten-Anlage 36</street>
          <city>Heidelberg</city>
          <region></region>
          <code></code>
          <country>Germany</country>
        </postal>
        <phone></phone>
        <email>faisal.mir@neclab.eu</email>
      </address>
    </author>


    <author fullname="Rolf Winter" initials="R." 
            surname="Winter">
      <organization>NEC</organization>
      <address>
        <postal>
          <street>Kurfuersten-Anlage 36</street>
          <city>Heidelberg</city>
          <region></region>
          <code></code>
          <country>Germany</country>
        </postal>
        <phone></phone>
        <email>rolf.winter@neclab.eu</email>
      </address>
    </author>


    <author fullname="Suresh Krishnan" initials="S." 
            surname="Krishnan">
      <organization>Ericsson</organization>
      <address>
        <postal>
          <street>8400 Blvd Decarie</street>
          <city>Town of Mount Royal</city>
          <region>Quebec</region>
          <code></code>
          <country>Canada</country>
        </postal>
        <phone></phone>
        <email>suresh.krishnan@ericsson.com</email>
      </address>
    </author>


    <author fullname="Ying Zhang" initials="Y." 
            surname="Zhang">
      <organization>Hewlett Packard Labs</organization>
      <address>
        <postal>
          <street>3000 Hannover Street</street>
          <city>Palo Alto</city>
          <region>CA</region>
          <code>94304</code>
          <country>USA</country>
        </postal>
        <phone></phone>
        <email>ying.zhang13@hp.com</email>

      </address>
    </author>

    <author fullname="Carlos J. Bernardos"
            initials="CJ."
            surname="Bernardos">
      <organization abbrev="UC3M">
       Universidad Carlos III de Madrid
      </organization>
      <address>
        <postal>
          <street>Av. Universidad, 30</street>
          <city>Leganes, Madrid</city>
          <code>28911</code>
          <country>Spain</country>
        </postal>
        <phone>+34 91624 6236</phone>
        <email>cjbc@it.uc3m.es</email>
        <uri>http://www.it.uc3m.es/cjbc/</uri>
      </address>
    </author>

    <date/>


    <area>IETF</area>

    <workgroup>CONEX WG</workgroup>

    <keyword>congestion exposure</keyword> 
    <keyword>mobile communications</keyword>

    <abstract>
      <t>
	This memo describes a mobile communications use case for
	congestion exposure (ConEx) with a particular focus on those
	mobile communication networks that are architecturally similar
	to the 3GPP Evolved Packet System (EPS). The draft provides a
	brief overview of the architecture of these networks (both
	access and core networks), current QoS mechanisms and then
	discusses how congestion exposure concepts could be
	applied. Based on this, this memo suggests a set of
	requirements for ConEx mechanisms that particularly apply to
	these mobile networks.
      </t>
    </abstract>
  </front>
  
  <middle>
    <section title="Introduction">

      <t>
	Mobile data traffic continues to grow rapidly. The challenge
	wireless operators face is to support more subscribers with
	an increasing bandwidth demand.  To meet these bandwidth requirements,
	there is a need for new technologies that assist the operators
	in efficiently utilizing the available network resources.  Two
	specific areas where such new technologies could be deemed
	useful are resource allocation and flow management. </t>
	
	<t>
	  Analysis of cellular network data traffic has shown that
	  most flows are short-lived and low-volume, but a
	  comparatively small number of high-volume flows constitute a
	  large fraction of the overall traffic volume <xref
	  target="lte-sigcomm2013"/>. That means that potentially a 
	  small fraction of users is responsible for the
	  majority of traffic in cellular networks. In view of such
	  highly skewed user behavior and limited and expensive
	  resources (e.g. the wireless spectrum), resource allocation
	  and usage accountability are two important issues for
	  operators to solve in order to achieve both a better network
	  resource utilization and fair resource sharing.  ConEx, as
	  described in <xref target="RFC6789"></xref>, is a technology
	  that can be used to achieve these goals.
        </t>
  
  	<t>
	The ConEx congestion exposure mechanism is designed to be a
	general technology that could be applied as a key element of
	congestion management solutions for a variety of use cases. In
	particular, uses cases, where the end hosts and the network
	that contains the destination end hosts are ConEx-enabled but
	other networks need not be, are of interest for initial
	deployment.
      </t>

      <t>
	A specific example of such a use case can be a mobile
	communication network such as a 3GPP Evolved Packet System
	(EPS) network, where UEs (User Equipment, i.e. mobile end
	hosts), servers and caches, the access network and possibly
	an operator's core network can be ConEx-enabled. I.e., hosts
	support the ConEx mechanisms, and the network provides
	policing/auditing functions at its edges.
      </t>

      <t>
	This document provides a brief overview of the architecture of
	such networks (access and core networks) and current QoS
	mechanisms. It further discusses how such networks 
	can benefit from congestion exposure concepts 
	and how they should be applied.
	Using this use case as a basis, a set of requirements for
	ConEx mechanisms are described.
      </t>

      <section title="Acronyms">
	<t>
	  In the following we expand some acronyms that are used in
	  throughout the text. Most of them are explained and put in a
	  system context in <xref target="appendix1"/> and the 3GPP
	  specifications referenced there.
	  <list style="hanging">
	    <t hangText="eNB:"><vspace/>Evolved NodeB: LTE base station</t>
	    <t hangText="S-GW:"><vspace/>Serving Gateway: mobility anchor and tunnel endpoint</t>
	    <t hangText="P-GW:"><vspace/>Packet Data Network (PDN) Gateway: tunnel endpoint for user and control plane protocol -- typically the GW to the Internet or an operator's service network</t>
	    <t hangText="UE:"><vspace/>User Equipment: mobile terminals</t>
	  </list>
	</t>
      </section>
    </section>




    <section title="ConEx Use Cases in Mobile Communication Networks" anchor="sec.use-cases">
      <t>
	In general, quality of service and good network resource
	utilization are important requirements for mobile
	communication network operators. Radio access and backhaul
	capacity are considered scarce resources, and bandwidth (and
	radio resource) demand is difficult to predict precisely due
	to user mobility, radio propagation effects etc. Hence today's
	architectures and protocols go to significant extent in order
	to provide network-controlled quality of service. These 
	efforts often lead to complexity and cost. ConEx could be a
	simpler and more capable approach to efficient resource sharing 
	in these networks. 

      </t>
      <t>
	In the following, we discuss ways how congestion exposure
	could be beneficial for supporting resource management in such
	mobile communication networks.  <xref target="RFC6789"/>
	describes fundamental congestion exposure concepts and a set
	of use cases for applying congestion exposure mechanisms to
	realize different traffic management functions such as flow
	policy-based traffic management or traffic offloading. Readers
	that are not familiar with the 3GPP Evolved Packet System (EPS)
	should refer to <xref target="appendix1"/> first.
      </t>

      <section title="ConEx as a Basis for Traffic Management">
	<t>
	  Traffic management is a very important function in mobile
	  communication networks. Since wireless resources are
	  considered scarce and since user mobility and shared
	  bandwidth in the wireless access create certain dynamics
	  with respect to available bandwidth, commercially operated
	  mobile networks provide mechanisms for tight resource
	  management (admission control for bearer establishment).
	  However, sometimes these mechanisms are not easily applicable
	  to IP- and HTTP-dominated traffic mixes, for example, most
	  Internet traffic in today's mobile network is transmitted
	  over the (best-effort) default bearer.
	</t>

	
	<t>
	  Given the above, and in the light of the significant increase 
	  of overall data volume in 3G networks, Deep-Packet-Inspection 
	  (DPI) is often considered a desirable function to have in the EPC
	  -- despite its cost and complexity. With the increase of 
	  encrypted data traffic, traffic management using DPI alone
	  however will become even more challenging.  
	</t>
	<t>
	  Congestion exposure can be employed to address resource
	  management requirements in different ways:
	  <list style="numbers">
	    <t>
	      It can enable or enhance flow policy-based traffic
	      management. At present, DPI-based resource management is
	      often used to prioritize certain application classes
	      with respect to others in overload situations, so that
	      effectively more users can be served on the network. In
	      overload situations, operators use DPI to identify
	      dispensable flows and make them yield to other flows (of
	      different application classes) through policing. Such
	      traffic management is thus based on operator decisions
	      -- using partly static configuration and some estimation
	      about the future per-flow bandwidth demand. With
	      congestion exposure it would be possible to assess the
	      contribution to congestion of individual flows. This
	      information can then be used as input to a policer that
	      can optimize network utilization more accurately and
	      dynamically. By using ConEx congestion contribution as a
	      metric, such policers would not need to be aware of
	      specific link loads (e.g., in wireless base stations) or
	      flow application types.
	    </t>
	    <t>
	      It can reduce the need for complex DPI by allowing for a
	      bulk packet traffic management system that does not have
	      to consider the application classes of flows and
	      individual sessions. Instead, traffic management would
	      be based on the current cost (contribution to
	      congestion) incurred by different flows and enable
	      operators to apply policing/accounting depending on
	      their preference. Such traffic management would be
	      simpler and more robust (no real-time flow application
	      type identification required, no static configuration of
	      application classes) and perform better as decisions can
	      be taken based on real-time actual cost contribution.
	      With ConEx, accurate downstream path
	      information would be visible to ingress network
	      operators, which can respond to incipient congestion in
	      time. This can be equivalent to offering different
	      levels of QoS, e.g. premium service with zero congestion
	      response.  For that, ConEx could be used in two
	      different ways:
	      <list style="numbers">
		<t> as additional information to assist network functions to
		impose different QoS for different application sessions; and </t>
		<t> as a tool to let applications decide on their
		response to congestion notification, while
		incentivizing them to react (in general)
		appropriately, e.g., by enforcing overall limits for
		congestion contribution or by accounting and charging
		for such congestion contribution. Note that this level
		of responsiveness would be on a different level then,
		say, application-layer responsive in protocols such as
		DASH <xref target="dash"/>, however it could interwork
		with such protocols, for example by triggering earlier
		responses.
		</t>
	      </list>
	    </t>

	    <t>
	      It can further be used to more effectively trigger the
	      offload of selected traffic to a non-3GPP network.
	      Nowadays, it is common that users are equipped with dual
	      mode mobile phones (e.g., integrating third/fourth
	      generation cellular and WiFi radio devices) capable of
	      attaching to available networks either sequentially or
	      simultaneously. With this scenario in mind, 3GPP is
	      currently looking at mechanisms to seamlessly and
	      selectively switch over a single IP flow (e.g., user
	      application) to a different radio access, while keeping
	      all other ongoing connections untouched. The decision on
	      when and which IP flows move is typically based on
	      statically configured rules, whereas the use of ConEx
	      mechanisms could also factor in real-time congestion
	      information into the decision.
	    </t>
	  </list>
	</t>

	<t>
	  In summary, it can be said that traffic management in the 3GPP
	  EPS and other mobile communication architectures is very
	  important. Currently, more static approaches based on
	  admission control and static QoS are in use, but recently,
	  there has been a perceived need for more dynamic mechanisms
	  based on DPI. Introducing ConEx could make these mechanisms
	  more efficient or even remove the need for some of the DPI
	  functions deployed today. 

	</t>
    </section>

    <section title="ConEx to Incentivize Scavenger Transports">
      <t>
	As 3G and LTE networks are turning into universal access
	networks that are shared between mobile (smart) phone users,
	mobile users with laptop PCs, home users with LTE access and others,
	capacity-sharing among different users and
	application flows becomes increasingly important in these mobile
	communication networks.
      </t>
      <t>
	Most of this traffic is likely to be classified as best-effort
	traffic, without differentiating for example periodic OS
	updates, application store downloads from web (browser)-based
	or other more real-time communication. For many of the bulk data
	transfers, completion times are not important within certain bounds
	and therefore if scavenger (or less-than best effort) transports
	like e.g. LEDBAT <xref target="RFC6817"/> were used, it would
  improve the overall utility of the network. The use of these
  transports by the end user however needs to be incentivized.
	ConEx could be used to build an incentive scheme e.g. by
	allowing users that contribute less to congestion to give them
	a larger bandwidth allowance or e.g. to lower the next monthly
	subscription fee. In principle, this would
	be possible to implement with current specifications.
      </t>
    </section>

    <section title="Accounting for Congestion Volume">
      <t>
	3G and LTE networks provide extensive support for accounting
	and charging already, for example cf. the Policy Charging
	Control (PCC) architecture <xref target="3GPP.23.203"/>. In
	fact, most operators today account transmitted data volume on
	a very fine granular basis and either correlate monthly
	charging to the exact number of packets/bytes transmitted, or
	employ some form of flat rate (or flexible flat rate), often
	with a so-called fair-use policy. With such policies, users
	are typically limited to an administratively configured
	maximum bandwidth limit, after they have used up their
	contractual data volume budget for the charging period.
      </t>
      <t>
	Changing this data volume-based accounting to a
	congestion-based accounting would be possible in principle,
	especially since there already is an elaborate per-user
	accounting system available. Also, an operator-provided mobile
	communication network can be seen as a network domain within
	such congestion volume accounting would be possible, without
	requiring any support from the global Internet, in particular
	since the typical scarce resources such as the wireless access
	and the mobile backhaul are all within this domain. Traffic
	normally leaves/enters the operator's network via well-defined
	egress/ingress points that would be ideal candidates for
	policing functions. Moreover, in most commercially operated
	networks, accounting is performed for both received and sent
	data, which would facilitate congestion volume accounting as
	well.
      </t>

      <t>
	With respect to the current PCC framework, accounting for
	congestion volume could be added as another feature to the
	"Usage Monitoring Control" capability that is currently based
	on data volume. This would not require any new interface
	(reference points) at all.
      </t>

    </section>


    <section title="Partial vs. Full Deployment">
      <t>
	In general, ConEx lends itself to partial deployment as the
	mechanism does not require all routers and hosts to support
	congestion exposure. Moreover, assuming a policing
	infrastructure has been put in place, it is not required to
	modify all hosts. Since ConEx is about senders exposing
	congestion contribution to the network, senders need to be
	made ConEx-aware (assuming a congestion notification
	mechanisms such as ECN is in place).
      </t>
      <t>
	When moving towards full deployment in a specific operator's
	network, different ways for introducing ConEx support on UEs
	are feasible. Since mobile communication networks are
	multi-vendor networks, standardizing ConEx support on UEs
	(e.g., in 3GPP specifications) appears useful. Still, not all
	UEs would have to support ConEx, and operators would be free
	to choose their policing approach in such deployment
	scenarios. Leveraging existing PCC architectures, 3GPP network
	operators could for example decide policing/accounting
	approaches per UE -- i.e., apply fixed volume caps for
	non-ConEx UEs and more flexible schemes for ConEx-enabled UEs.
      </t>

      <t>
	Moreover, it should be noted that network support for ConEx is
	a feature that some operators may choose to deploy if they
	wish, but it is not required that all operators (or all other
	networks) do so.
      </t>
      
      <t>
	Depending on the extent of ConEx support, specific aspects
	such as roaming have to be taken into account. I.e., what
	happens when a user is roaming in a ConEx-enabled network, but
	their UE is not ConEx-enabled and vice versa. Although these
	may not be fundamental problems, they need to be
	considered. For supporting mobility in general, it can be
	required to shift users' policing state during
	hand-over. There is existing work in <xref
	target="raghavan2007"/> on distributed rate limiting and in
	<xref target="nec.euronf-2011"/> on specific optimizations for
	congestion exposure and policing in mobility scenarios.
      </t>
      <t>
	Another aspect to consider is the addition of Selected IP
	Traffic Offload (SIPTO) and Local Breakout (LIPA), also see
	<xref target="3GPP.23.829"/>, i.e., the idea that some traffic
	(e.g., high-volume Internet traffic) is actually not passed
	through the EPC but is offloaded at a "break-out point" closer
	to (or in) the access network. On the other hand, ConEx can
	also enable more dynamic decisions on what traffic to actually
	offload by considering congestion exposure in bulk traffic
	aggregates -- thus making traffic offload more effective.
      </t>
    </section>
    <section title="Summary">
      <t>
	In summary, the 3GPP EPS is a system architecture that can
	benefit from congestion exposure in multiple ways<!--, as we have
	shown by this brief description of ConEx use cases in this
	environment-->. Dynamic traffic and congestion management is an
	acknowledged and important requirement for the EPS, also
	illustrated by the current DPI-related work for EPS.
      </t>
      <t>
	Moreover, networks such as an EPS mobile
	communication network would be quite amenable for deploying
	ConEx as a mechanism, since they represent clearly defined and
	well separated operational domains, in which local ConEx
	deployment would be possible. Aside from roaming (which needs
	to be considered for a specific solution), such a deployment
	is fully under the control of a single operator, which can
	enable operator-local enhancement without the need for major
	changes to the architecture.
      </t>
      
      <t>
	In 3GPP EPS, interfaces between all elements of the
	architecture are subject to standardization, including UE
	interfaces and eNodeB interfaces, so that a more general
	approach, involving more than one single operator's network,
	can be feasible as well.
      </t>

    </section>
  </section>

  
  <section title="ConEx in the EPS">
    <t>
      In this section, we are discussing a few options for how such a
      mechanism (and possibly additional policing functions) could
      eventually be deployed in 3GPP's EPS.  Note that this
      description of options is not intended as a complete set of
      possible approaches -- it is merely intended for discussing the
      most promising options.
      </t>

      <section title="Possible Deployment Scenarios" anchor="sec.deployment-scenarios">
	<t>
	  There are different possible ways how ConEx functions on
	  hosts and network elements can be used. For example, ConEx
	  could be used for a limited part of the network only --
	  e.g., for the access network -- congestion exposure and
	  sender adaptation could involve the mobile nodes or not, or,
	  finally, the ConEx feedback loop could extend beyond a
	  single operator's domain or not.
	</t>

	<t>
	  We present four different deployment scenarios for
	  congestion exposure in the figures below:
	  <list style="numbers">
	    <t>
	      In <xref target="fig.deployment-option0"/> ConEx is
	      supported by servers for sending data (here: web servers
	      in the Internet and caches in an operator's network) but
	      not by UEs (neither for receiving nor sending). An
	      operator who chooses to run a policing function on the
	      network ingress, e.g., on the P-GW (Packet Data Network
	      -- PDN -- Gateway) can still benefit from congestion
	      exposure without requiring any change on UEs.
	    </t>
	    <t>
	      ConEx is universally employed between operators (as
	      depicted in <xref target="fig.deployment-option1"/>),
	      with an end-to-end ConEx feedback loop. Here, operators
	      could still employ local policies, congestion accounting
	      schemes etc., and they could use information about
	      congestion contribution for determining interconnection
	      agreements. This deployment scenario would imply the
	      willingness of operators to expose congestion to each
	      other.
	    </t>
	    <t>
	     Isolated ConEx domains as depicted in <xref
	     target="fig.deployment-option2"/>, where ConEx is solely
	     applied locally, in the operator network, and there is no
	     end-to-end congestion exposure. This could be the case
	     when ConEx is only implemented in a few networks, or when
	     operators decide to not expose ECN and account for
	     congestion for inter-domain traffic. Independent of the
	     actual scenario, it is likely that there will be border
	     gateways (as in today's deployments) that are associated
	     with policing and accounting functions.
	    </t>
	    <t>
	      <xref target="conex-lite"/> describes an approach called
	      "ConEx Lite" for mobile networks that is intended for
	      initial deployment of congestion exposure concepts in
	      LTE, specifically in the backhaul and core network
	      segments. As depicted in <xref
	      target="fig.deployment-option3"/> ConEx Lite allows a
	      tunnel receiver to monitor the volume of bytes that has
	      been lost or dropped (or ECN-CE marked) between the
	      tunnel sender and receiver. For that purpose, a new
	      field is introduced to the tunnel header called the Byte
	      Sequence Marker (BSN) that identifies the byte in the
	      flow of data from the tunnel sender to the tunnel
	      receiver. A policer at the tunnel sender is expected to
	      re-act according to the tunnel congestion volume (see
	      <xref target="conex-lite"/> for details.)
	    </t>
	  </list>
      </t>


      <figure title="ConEx support on servers and caches" anchor="fig.deployment-option0">
        <artwork>
                                  +------------+ 
                                  | Web server |
                                  | w/ ConEx   |
                                  +------------+
                                            |        
                                            |
                                            |
                         -----------------------
                         |                  |  |
                         |     Internet     |  |
                         |                  |  |
                         -----------------------
                                            |
--------------------------------------------|--------
|                                           |       |
|                                     +-----------+ |
|                                     | Web cache | |
|                                     | w/ ConEx  | |
|                                     +-----------+ |
|                                           |       |
|  +----+     +-------+     +-------+     +-------+ |
|  | UE |=====|  eNB  |=====|  S-GW |=====|  P-GW | |
|  +----+     +-------+     +-------+     +-------+ |
|                                                   |
|              Operator A                           |
-----------------------------------------------------
        </artwork>
	 </figure>


      <figure title="ConEx deployment across operator domains" anchor="fig.deployment-option1">
        <artwork>
-----------------------------------------------------
|  +----+     +-------+     +-------+     +-------+ |
|  | UE |=====|  eNB  |=====|  S-GW |=====|  P-GW | |
|  +----+     +-------+     +-------+     +-------+ |
|                                           |       |
|              Operator A                   |       |
--------------------------------------------|--------
                                            |
                         -----------------------
                         |                     |
                         |     Internet        |
                         |                     |
                         -----------------------
                                            |
--------------------------------------------|--------
|  +----+     +-------+     +-------+     +-------+ |
|  | UE |=====|  eNB  |=====|  S-GW |=====|  P-GW | |
|  +----+     +-------+     +-------+     +-------+ |
|                                                   |
|              Operator B                           |
-----------------------------------------------------
        </artwork>
	 </figure>


         <figure title="ConEx deployment in a single operator domain" anchor="fig.deployment-option2">
        <artwork>
-----------------------------------------------------
|   |---            ConEx path            ---|      |
|   v                                        v      |
|  +----+     +-------+     +-------+     +-------+ |
|  | UE |=====|  eNB  |=====|  S-GW |=====|  P-GW | |
|  +----+     +-------+     +-------+     +-------+ |
|                                           |       |
|              Operator A                   |       |
--------------------------------------------|--------
                                            |
                         -----------------------
                         |                     |
                         |     Internet        |
                         |                     |
                         -----------------------
                                            |
--------------------------------------------|--------
|  +----+     +-------+     +-------+     +-------+ |
|  | UE |=====|  eNB  |=====|  S-GW |=====|  P-GW | |
|  +----+     +-------+     +-------+     +-------+ |
|                                                   |
|              Operator B                           |
-----------------------------------------------------
        </artwork>
	 </figure>


         <figure title="ConEx-lite deployment" anchor="fig.deployment-option3">
        <artwork>
                Backhaul Network     Core Network
               +---------------+  +--------------+
               |               |  |              |
               | BSN or ECN-CE |  |              |
               | marked        |  |              |
               | packets       |  |              |
               |    &lt;---       |  |              |                  
+----+     +-------+       +----------+       +-------+  +--------+
|    |     |       | GTP-U |          | GTP-U |       |  |        |
| UE |=====|  eNB  |=======|   S-GW   |=======|  P-GW |==|Internet|
|    |     |       | Tunnel|          | Tunnel|       |  |        |
+----+     +-------+       +----------+       +-------+  +--------+
               |    --->       |  |              |  
               | User/control  |  | User/control | 
               | packets with  |  | packet with  | 
               | DL congestion |  | DL congestion| 
               | vol counters  |  | vol counters | 
               |               |  |              | 
               +---------------+  +--------------+       
        </artwork>
	 </figure>




      </section>


      <section title="Implementing ConEx Functions in the EPS">
	<t>
	  We expect a ConEx solution to consist of different functions
	  that should be considered when implementing congestion
	  exposure in 3GPP's EPS. <xref
	  target="I-D.ietf-conex-abstract-mech"/> is describing the
	  following congestion exposure components:
	  <list style="symbols">
	    <t>Modified senders that send congestion exposure
	    information in response to congestion feedback.</t>
	    <t>Receivers that generate congestion feedback (leveraging
	    existing behavior or requiring new functions). </t>
	    <t>Audit functions that audit ConEx signals
	    against actual congestion, e.g., by monitoring flows or
	    aggregate of flows. </t>
	    <t>Policy devices that monitor congestion
	    exposure information and act on the flows according to the
	    operator's policy.</t>
	  </list>
	</t>

	<t>
	  Two aspects are important to consider: 1) how the
	  ConEx protocol mechanisms would be implemented and what
	  modifications to existing networks would be required and 2)
	  where ConEx functional entities would be placed best (to
	  allow for a non-invasive addition). We discuss these two
	  aspects in the following sections.
	</t>

	<section title="ConEx Protocol Mechanisms">
	  
	  <t>
	    The most important step in introducing ConEx (initially)
	    is adding the congestion exposure functionality to
	    senders. For an initial deployment, no further
	    modification to senders and receivers would be
	    required. Specifically, there is no fundamental dependency
	    on ECN, i.e., ConEx can be introduced without requiring
	    ECN to be implemented.
	  </t>
	  <t>
	    Congestion exposure information for IPv6 <xref
	    target="I-D.ietf-conex-destopt"/> is contained in a
	    destination option header field, which requires minimal
	    changes at senders and nodes that want to assess path
	    congestion -- and that does not affect non-ConEx nodes in
	    a network.
	  </t>
	  <t>
	    In 3GPP networks, IP tunneling is used intensively, i.e.,
	    using either IP-in-GTP-U or PMIPv6 (i.e., IP-in-IP)
	    tunnels. In general, the ConEx destination option of
	    encapsulated packets should be made available for network
	    nodes on the tunnel path, i.e., a tunnel ingress should
	    copy the ConEx destination option field to the outer
	    header. 
	  </t>
	  
	  <t>
	    For an effective and efficient capacity sharing, we
	    envisage the deployment of ECN in conjunction with ConEx
	    so that ECN-enabled receivers and senders get more
	    accurate and more timely information about their flows
	    congestion contribution. ECN is already partially
	    introduced into 3GPP networks: Section 11.6 in <xref
	    target="3GPP.36.300"/> specifies the usage of ECN for
	    congestion notification on the radio link (between eNB and
	    UE), and <xref target="3GPP.26.114"/> specifies how this
	    can be leveraged for voice codec adaptation. A complete,
	    end-to-end support of ECN would require specification of
	    tunneling behaviour, which should be based on <xref
	    target="RFC6040"/> (for IP-in-IP tunnels). Specifically,
	    a specification for tunneling ECN in GTP-U will be needed.
	  </t>


	</section>


	<section title="ConEx Functions in the Mobile Network">


	<t>
	  In the following, we discuss some possible placement
	  strategies for ConEx functional entities (addressing both
	  policing and auditing functions) in the EPS and for possible
	  optimizations for both the uplink and the downlink.
	</t>
	<t>
	  In general, ConEx information (exposed congestion) is
	  declared by a sender and remains unchanged on the path, hence
	  reading ConEx information (e.g., by policing functions) is
	  placement-agnostic. Auditing ConEx normally requires
	  assessing declared congestion contribution and current
	  actual congestion. If the latter is, for example, done using
	  ECN, such a function would best be placed at the end of the
	  path.
	</t>

	<t>
	  In order to provide a comprehensive ConEx-based capacity
	  management framework for EPS, it would be advantageous to
	  consider user contribution to congestion for both the radio
	  access and the core network. For a non-invasive introduction
	  of ConEx, it can be beneficial to combine ConEx functions
	  with existing logical EPS entities. For example, potential
	  places for ConEx policing and auditing functions would then
	  be eNBs, S-GWs (Serving Gateways) or the P-GWs (Packet Data
	  Network -- PDN -- Gateways). Operator deployments may of
	  course still provide additional intermediary ConEx-enabled
	  IP network elements.
	</t>

	
	<t>
	  For a more specific discussion it will be beneficial to
	  distinguish downlink and uplink traffic directions (also see
	  <xref target="nec.globecom2010"/> for a more detailed
	  discussion). In today's networks and usage models, downlink
	  traffic is dominating (also reflected by the asymmetric
	  capacity provided by the LTE radio interface). That does
	  however not imply that uplink congestion is not an issue,
	  since the asymmetric maximum bandwidth configuration can
	  create a smaller bottleneck for uplink traffic -- and there
	  are of course backhaul links, gateways etc. that could be
	  overloaded as well.
	</t>
	<t>
	  For managing downlink traffic -- e.g., in scenarios such as
	  the one depicted in <xref target="fig.deployment-option0"/>,
	  operators can have different requirements for policing
	  traffic. Although policing is in principle
	  location-agnostic, it is important to consider requirements
	  related to the EPS architecture (<xref target="fig1"/>) such
	  as tunneling between P-GWs and eNBs. Policing can require
	  access to subscriber information (e.g., congestion
	  contribution quota) or user-specific accounting, which
	  suggests that the ConEx function could be co-located with
	  the P-GW that already has an interface towards the PCRF.
	</t>
	<t>
	  Still, policing can serve different purposes. For example,
	  if the objective is to police bulk traffic induced by peer
	  networks, additional monitoring functions can be placed
	  directly at corresponding ingress points to monitor traffic
	  and possible drive out-of-band functions such as triggering
	  border contract penalties.
	</t>

	<t>
	  The auditing function which should be placed at the end of
	  the path (at least after/at the last bottleneck) would
	  likely be placed best on the eNB (wireless base station).
	</t>

	<t>
	  For the uplink direction, there are naturally different
	  options for designing monitoring and policy enforcement
	  functions. A likely approach can be to monitor congestion
	  exposure on central gateway nodes (such as P-GWs) that
	  provide the required interfaces to the PCRF, but to perform
	  policing actions in the access network, i.e., in eNBs, e.g.,
	  to police traffic at the ingress, before it reaches
	  concentration points in the core network.
	</t>
	<t>
	  Such a setup would enable all the ConEx use cases described
	  in <xref target="sec.use-cases"/>, without requiring
	  significant changes to the EPS architecture, while enabling
	  operators to re-use existing infrastructure, specifically
	  wireless base stations, PCRF and HSS systems.
	</t>


	<t>
	  For ConEx functions on elements such as the S-GWs and P-GWs,
	  it is important to consider mobility and tunneling protocol
	  requirements. LTE provides two alternative approaches:
	  Proxy-Mobile-IPv6 (PMIPv6, <xref target="3GPP.23.402"/>) and
	  GPRS Tunneling Protocol (GTP). For the propagation of
	  congestion information (responses) tunneling considerations
	  are therefore very important.
	</t>
	<t>
	  In general, policing will be done based on per-user (per
	  subscriber) information such as congestion quota, current
	  quota usage etc.  and network operator policies, e.g.,
	  specifying how to react to persistent congestion
	  contribution. In the EPS, per-user information is
	  normally part of the user profile (stored in the HSS) that would
	  be accessed by PCC entities such as the PCRF for dynamic
	  updates, enforcement etc.
	</t>

	
      </section>

      </section>

    </section>

    <section title="Summary">
      
<t>
  We have shown how congestion exposure can be useful for efficient
  resource management in mobile communication networks. The premise
  for this discussion was the observation that data communication,
  specifically best-effort bulk data transmission, is becoming a
  commodity service whereas resources are obviously still limited --
  which calls for efficient, scalable, yet effective capacity sharing
  in such networks.
</t>

<t>
  ConEx can be a mechanism that enables such capacity sharing, while
  allowing operators to apply these mechanisms in different ways, e.g.,
  for implementing different use cases as described in <xref
  target="sec.use-cases"/>. It is important to note that ConEx is
  fundamentally a mechanism that can be applied in different ways --
  to realize different operators policies.
</t>

<t>
  ConEx may also be used to complement 3GPP-based mechanisms for
  congestion management which are currently under development, such as
  in the User Plane Congestion Management (UPCON) work item described
  in <xref target="3GPP.23.705"/>.
</t>

<t>
  We have described a few possibilities for adding ConEx as a
  mechanism to 3GPP LTE-based networks and have shown how this could
  be done incrementally (starting with partial deployment). It is
  quite feasible that such partial deployments be done on a
  per-operator-domain basis, without requiring changes to standard
  3GPP interfaces. For a network-wide deployment, e.g., with
  congestion exposure between operators, more considerations might be
  needed.
</t>

<t>
  We have also identified a few implications/requirements that should
  be taken into consideration when enabling congestion exposure in
  such networks:
  <list style="hanging">
    <t hangText="Performance:">
In mobile communication networks -- with more expensive resources and
more stringent QoS requirements -- the feasibility of applying ConEx
as well as its performance and deployment scenarios need to be
examined closer. For instance, a mobile communication network may
encounter longer delay and higher loss rates, which can impose
specific requirements on the timeliness and accuracy of congestion exposure information.
    </t>
    
    <t hangText="Mobility:">
      One of the unique characteristics in cellular network is the
      presence of user mobility compared to wired networks. As the
      user location changes, the same device can be connected to the
      network via different base stations (eNodeBs) or even go through
      switching gateways. Thus, the ConEx scheme must to be able to
      carry latest congestion information per user/flow across
      multiple network nodes in real-time.
    </t>

    <t hangText="Multi-access:">
      In cellular networks, multiple access technologies can
      co-exist. In such cases, a user can use multiple access
      technologies for multiple applications or even a single
      application simultaneously.  If the congestion policies are set
      based on each user, then ConEx should have the capability to
      enable information exchange across multiple access domains.
	  </t>
	  <t hangText="Tunneling:">
	    Both 3G and LTE networks make extensive usage of
	    tunneling. The ConEx mechanism should be designed in a way
	    to support usage with different tunneling protocols such
	    as PMIPv6 and GTP. For ECN-based congestion notification,
	    <xref target="RFC6040"/> specifies how the ECN field of
	    the IP header should be constructed on entry and exit from
	    IP-in-IP tunnels.
	  </t>

	  <t hangText="Roaming:">
	    Independent of the specific architecture, mobile
	    communication networks typically differentiate between
	    non-roaming and roaming scenarios. Roaming scenarios are
	    typically more demanding regarding implementing operator
	    policies, charging etc. It can be expected that this would
	    also hold for deploying ConEx. A more detailed analysis of
	    this problem will be provided in a future revision of this
	    document.
	  </t>

	</list>
      </t>
      <t>
	It is important to note that ConEx is intended to be used as a
	supplement and not a replacement to the existing QoS
	mechanisms in mobile networks.  For example, ConEx deployed in
	3GPP mobile networks can provide useful input to the existing
	3GPP PCC mechanisms by supplying more dynamic network
	information to supplement the fairly static information used
	by the PCC.  This would enable the mobile network to make
	better policy control decisions than is possible with only
	static information.
      </t>
    </section>
    
    <section anchor="IANA" title="IANA Considerations">

      <t>No IANA considerations.</t>

    </section>

    <section anchor="Security" title="Security Considerations">
      <t>
	For any ConEx deployment, it is important to apply appropriate
	mechanisms to preclude applications and senders from
	mis-stating their congestion contribution. <xref
	target="I-D.ietf-conex-abstract-mech"/> discusses this problem
	in detail and introduces the ConEx auditing concept. ConEx
	auditing can be performed in different ways -- for example
	flows can be constantly audited or only on-demand, when
	network operators decide to do so. Also, coarse-grained
	auditing may operate on flow aggregates for efficiency
	reasons, whereas fine-grained auditing would inspect
	individual flow. In mobile networks, there may be deployment
	strategies that favor efficiency over very exact auditing. It
	is important to understand the trade-offs and to apply ConEx
	auditing appropriately.
      </t>
      <t>
	The ConEx protocol specifications in <xref
	target="I-D.ietf-conex-destopt"/> and <xref
	target="I-D.ietf-conex-tcp-modifications"/> discuss additional
	security considerations that would also apply to mobile
	network deployments.
      </t>

      
    </section>

  </middle>
  
  <!--  *****BACK MATTER ***** -->

  <back>

<!--
    <references title="Normative References">

    </references>
-->

    <references title="Informative References">


	&RFC6789;

	&I-D.draft-ietf-conex-abstract-mech;

	&I-D.draft-ietf-conex-destopt;

	&I-D.draft-ietf-conex-tcp-modifications;


	&ts23203;

	&ts36300;

	&ts29060;

	&ts29274;

	&ts23402;

	&tr23829;

	&ts26114;

	&ts23401;

	&tr23705;

	&RFC6040;
	
	&RFC6817;

	<reference anchor="nec.globecom2010">
	  <front>
	    <title>Congestion Exposure in Mobile Wireless Communications</title>
	    <author surname="Kutscher" fullname="Dirk Kutscher"/>
	    <author surname="Lundqvist" fullname="Henrik Lundqvist"/>
	    <author surname="Mir" fullname="Faisal Ghias Mir"/>
	    <date year="2010" month="December"/>
	  </front>
	  <seriesInfo name="in proceedings of" value="IEEE GLOBECOM 2010"/>
	</reference>
	
	<reference anchor="raghavan2007">
	  <front>
	    <title>Cloud Control with Distributed Rate Limiting</title>
	    <author surname="Raghavan" fullname="B. Raghavan"/>
	    <author surname="Vishwanath" fullname="K. Vishwanath"/>
	    <author surname="Ramabhadran" fullname="S. Ramabhadran"/>
	    <author surname="Yocum" fullname="K. Yocum"/>
	    <author surname="Snoeren" fullname=", A.C. Snoeren"/>
	    <date year="2007"/>
	  </front>
	  <seriesInfo name="in proceedings of" value="ACM SIGCOMM 2007"/>
	  <annotation>DOI: http://doi.acm.org/10.1145/1282427.1282419</annotation>
	</reference>	

	<reference anchor="nec.euronf-2011">
	  <front>
	    <title>Congestion Exposure in Mobility Scenarios</title>
	    <author surname="Mir" fullname="Faisal Ghias Mir"/>
	    <author surname="Kutscher" fullname="Dirk Kutscher"/>
	    <author surname="Brunner" fullname="Marcus Brunner"/>
	    <date year="2011" month="June"/>
	  </front>
	  <seriesInfo name="in proceedings of" value="7th EURO-NF CONFERENCE ON NEXT GENERATION INTERNET"/>
	</reference>

	<reference anchor="dash">
	  <front>
	    <title>ISO/IEC 23009-1: Information Technology -- Dynamic Adaptive Streaming over HTTP (DASH) --</title>
	    <author surname="ISO/IEC"/>
	    <date year="2012" month="April"/>
	  </front>
	</reference>


	<reference anchor="conex-lite">
	  <front>
	    <title>ConEx Lite for Mobile Networks</title>
	    <author surname="Baillargeon" fullname="Steve Baillargeon"/>
	    <author surname="Johansson" fullname="Ingemar Johansson"/>
	    <date year="2014" month="August"/>
	  </front>
	  <seriesInfo name="in proceedings of" value="ACM SIGCOMM-2014 Capacity Sharing Workshop (CSWS-2014)"/>
	</reference>


	<reference anchor="lte-sigcomm2013">
	  <front>
	    <title>An In-depth Study of LTE: Effect of Network Protocol and Application Behavior on Performance</title>
	    <author surname="Huang" fullname="Junxian Huang"/>
	    <author surname="Qian" fullname="Feng Qian"/>
	    <author surname="Guo" fullname="Yihua Guo"/>
	    <author surname="Zhou" fullname="Yuanyuan Zhou"/>
	    <author surname="Xu" fullname="Qiang Xu"/>
	    <author surname="Mao" fullname="Z. Morley Mao"/>
	    <author surname="Sen" fullname="Subhabrata Sen"/>
	    <author surname="Spatscheck" fullname="Oliver Spatscheck"/>
	    <date year="2013" month="August"/>
	  </front>
	  <seriesInfo name="in proceedings of" value="ACM SIGCOMM-2013"/>
	</reference>
    </references>



<section title="Acknowledgments">
  <t>
    We would like to thank Bob Briscoe and Ingemar Johansson for their
    support in shaping the overall idea and in improving the draft by
    providing constructive comments. We would also like to thank
    Andreas Maeder and Dirk Staehle for reviewing the draft and for
    providing helpful comments.
  </t>
</section>


    <section anchor="appendix1" title="Overview of 3GPP's Evolved Packet System (EPS)">

      <t>
	This section provides an overview of 3GPP's "Evolved Packet
	System" (EPS <xref target="3GPP.36.300"/>, <xref
	target="3GPP.23.401"/>) as a specific example of a mobile
	communication architecture. Of course other architectures
	exist but the EPS is used as one example to demonstrate the
	applicability of congestion exposure concepts and mechanisms.
      </t>

      <t>
	The EPS architecture and some of its standardized interfaces
	are depicted in <xref target="fig1"/>. The EPS provides IP
	connectivity to user equipment (UE) (i.e., mobile nodes) and
	access to operator services, such as global Internet access
	and voice communications. The EPS comprises the radio access
	network called evolved UMTS Terrestrial Radio Access Network
	(E-UTRAN) and the core network called Evolved Packet Core
	(EPC). QoS is supported through an EPS bearer concept,
	providing <!-- hierarchical --> bindings to resource
	reservation within the network.
      </t>

	<figure anchor="fig1" title="EPS architecture overview (Roaming Case)" >
	<artwork>
                                                   +-------+
                          +-------+                | PCRF  |
                          |  HSS  |               /+-------+\
                          +-------+            Gx/           \Rx
                              |                 /             \
                              |                /               \
                              |          +-------+    SGi  +-------+
                              |          |  P-GW |=========|   AF  |
                              |          +-------+         +-------+
HPMN                          |              |
------------------------------|--------------|----------------------
VPLMN                         |              |
                          +-------+          |
                          |  MME  |          |
                         /+-------+\         |S8
                 S1-MME /           \        | 
                       /             \S11    |
                      /               \      |
              +-----------+            \     |
+----+ LTE-Uu |           |             \    |
| UE |========|           |    S1-U      +-------+
+----+        |  E-UTRAN  |==============| S-GW  |
              |   (eNBs)  |              +-------+
              |           |
              +-----------+
	</artwork>
	</figure>

<!-- Carlos: is it "IP Svr" or "IP Srv" in the figure above? -->


      
      <t>
	The evolved NodeB (eNB), the Long Term Evolution (LTE) base
	station, is part of the access network that provides radio
	resource management, header compression, security and
	connectivity to the core network through the S1 interface. In
	an LTE network, the control plane signaling traffic and the
	data traffic are handled separately. The eNBs transmit the
	control traffic and data traffic separately via two logically
	separate interfaces.
      </t>
      
      <t>
	The Home Subscriber Server, HSS, is a database that contains
	user subscriptions and QoS profiles. The Mobility Management
	Entity, MME, is responsible for mobility management, user
	authentication, bearer establishment and modification and
	maintenance of the UE context.
      </t>
      <t>
	The Serving gateway, S-GW, is the mobility anchor and
	manages the user plane data tunnels during the inter-eNB
	handovers. It tunnels all user data packets and buffers downlink IP 
	packets destined for UEs that happen to be in idle mode.
      </t>
      <t>
	The Packet Data Network (PDN) Gateway, P-GW, is responsible
	for IP address allocation to the UE and is a tunnel endpoint
	for user and control plane protocols. It is also responsible
	for charging, packet filtering, and policy-based control of
	flows. It interconnects the mobile network to external IP
	networks, e.g. the Internet.
      </t>
      <t>
	In this architecture, data packets are not sent directly on an
	IP network between the eNB and the gateways. Instead, every
	packet is tunneled over a tunneling protocol - the GPRS
	Tunneling Protocol (GTP <xref target="3GPP.29.060"/>) over
	UDP/IP. A GTP path is identified in each node with the IP
	address and a UDP port number on the eNB/gateways. The GTP
	protocol carries both the data traffic (GTP-U tunnels) and the
	control traffic (GTP-C tunnels <xref
	target="3GPP.29.274"/>). Alternatively Proxy Mobile IP
	(PMIPv6) is used on the S5 interface between S-GW and P-GW.
      </t>
      <t>
	The above is very different from an end-to-end path on the
	Internet where the packet forwarding is performed at the IP
	level. Importantly, we observe that these tunneling protocols
	give the operator a large degree of flexibility to control the
	congestion mechanism incorporated with the GTP/PMIPv6 protocols.
      </t>
  

    </section>



  </back>
</rfc>


